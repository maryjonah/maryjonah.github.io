<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.54.0 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Mary Jonah">
<meta name="keywords" content="">
<meta name="description" content="Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the first post, we cleaned the 1992 presidential elections,click here for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.
General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:
Presidential: The person with the highest vote becomes the president of Ghana.">


<meta property="og:description" content="Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the first post, we cleaned the 1992 presidential elections,click here for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.
General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:
Presidential: The person with the highest vote becomes the president of Ghana.">
<meta property="og:type" content="article">
<meta property="og:title" content="Episode 2:The 1992 Parliamentary Results">
<meta name="twitter:title" content="Episode 2:The 1992 Parliamentary Results">
<meta property="og:url" content="https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
<meta property="twitter:url" content="https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
<meta property="og:site_name" content="Mary Jonah">
<meta property="og:description" content="Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the first post, we cleaned the 1992 presidential elections,click here for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.
General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:
Presidential: The person with the highest vote becomes the president of Ghana.">
<meta name="twitter:description" content="Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the first post, we cleaned the 1992 presidential elections,click here for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.
General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:
Presidential: The person with the highest vote becomes the president of Ghana.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2018-08-18T00:00:00">
  
  
    <meta property="article:modified_time" content="2018-08-18T00:00:00">
  
  
  
    
      <meta property="article:section" content="elections">
    
      <meta property="article:section" content="ghana">
    
  
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@jonahmary17">


  <meta name="twitter:creator" content="@jonahmary17">










  <meta property="og:image" content="https://maryjonah.github.io/img/maryjonah.jpg">
  <meta property="twitter:image" content="https://maryjonah.github.io/img/maryjonah.jpg">


    <title>Episode 2:The 1992 Parliamentary Results</title>

    <link rel="icon" href="https://maryjonah.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://maryjonah.github.io/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-132883556-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://maryjonah.github.io/">Mary Jonah</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://maryjonah.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://maryjonah.github.io/img/maryjonah.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://maryjonah.github.io/#about">
          <img class="sidebar-profile-picture" src="https://maryjonah.github.io/img/maryjonah.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Mary Jonah</h4>
        
          <h5 class="sidebar-profile-bio"><em>info@maryjonah.me</em></h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://maryjonah.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://maryjonah.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://maryjonah.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/maryjonah" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/4899614/mary-jonah" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Episode 2:The 1992 Parliamentary Results
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-08-18T00:00:00Z">
        
  August 18, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://maryjonah.github.io/categories/elections">elections</a>, 
    
      <a class="category-link" href="https://maryjonah.github.io/categories/ghana">ghana</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              


<p>Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the <a href="http://www.maryjonah.me/2018/08/episode-1-the-1992-presidential-results-rmd/">first</a> post, we cleaned the 1992 presidential elections,click <a href="https://github.com/maryjonah/maryjonah.github.io/blob/master/ghana_elections/1992/presidential_results_1992.csv">here</a> for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.</p>
<p>General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:</p>
<ol style="list-style-type: decimal">
<li><strong>Presidential</strong>: The person with the highest vote becomes the president of Ghana. He/She is an individual who represents a political party and is selected by delegates who represent a section of people in that political party.</li>
<li><strong>Parliamentary</strong>: Unlike presidential candidates,only people from a constituency (there are multiple constituencies in a region) vote for parliamentary aspirants.</li>
</ol>
<p>Now back to the main course; <em>parliamentary aspirant name with hot spicy constituency differentiated by party name and for dessert the region the constituency is located in</em>.</p>
<div id="importing-libraries-and-data-extraction" class="section level2">
<h2>Importing Libraries and Data Extraction</h2>
<p>The source of this data was <a href="https://en.wikipedia.org/wiki/MPs_elected_in_the_Ghanaian_parliamentary_election,_1992">Wikipedia</a>. On the page I chose the data on the main table. My favourite R library to scrape data on the web is <strong><em>rvest</em></strong>. <strong><em>tidyverse</em></strong> is another package I love to work with. It is an amazing collection of other R packages <em>(dplyr, tidyr, ggplot2, forcats, purrr)</em> which make various aspects of data analysis very easy; data manipulation, reading data files, string manipulation. Remeber that these 2 packages do not come with the base R hence they need to be installed via the command <code>install.packages('packageNameHere')</code></p>
<pre class="r"><code>library(rvest)
library(tidyverse)

# get data from Wikipedia and convert to table format
html_Parliament &lt;- read_html(&quot;https://en.wikipedia.org/wiki/MPs_elected_in_the_Ghanaian_parliamentary_election,_1992&quot;)
html_MP &lt;- html_table(html_nodes(html_Parliament, &quot;.wikitable&quot;)[[2]],
           fill = TRUE)

# print the first few rows of the dataframe
head(html_MP)</code></pre>
<pre><code>##                                X1                              X2
## 1 Ashanti Region - 33 seats[edit] Ashanti Region - 33 seats[edit]
## 2                    Constituency                      Elected MP
## 3                   Adansi Asokwa                      John Gyasi
## 4             Afigya-Sekyere East              Pius M G Griffiths
## 5             Afigya-Sekyere West           Mrs. Beatrice Aboagye
## 6                 Ahafo Ano North        George Kwasi Adjei Annim
##                                X3   X4   X5   X6
## 1 Ashanti Region - 33 seats[edit] &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
## 2                   Elected Party &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
## 3                             NDC &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
## 4                             NDC &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
## 5                             NDC &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;
## 6                            EGLE &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</code></pre>
</div>
<div id="extracting-regional-information" class="section level2">
<h2>Extracting Regional Information</h2>
<p>html_MP currently is a dataframe with 220 rows with 6 columns. Take a look at the data <a href="https://github.com/maryjonah/maryjonah.github.io/blob/master/ghana_elections/1992/raw_data_1992_parliamentary_results.csv">here</a>.</p>
<p>From the link, we can see that the parliamentary results are stored as follows:</p>
<p><strong> 1. The region name with the number of seats: repeated across all 6 columns. 2. The column headings: Constituency, Elected MP, Elected Party and 3 NA columns. 3. The rest are rows each representing a parliamentary constituency result in the region </strong>1<strong>. </strong></p>
<p>Remember these are repeated for each constituency and region. The question now is <strong>How do you clean the dataframe and get each constituency/region combination?</strong>. I was able to answer the question above. My method may be clumsy but it worked.</p>
<p>A dataframe containing all the rows with the word <strong>Region</strong> was created from <strong>html_MP</strong>. You may not find the use of this dataframe but trust me it will come in handy later.</p>
<pre class="r"><code># dataframe of rows with the word &quot;Region&quot;
match_Region &lt;- html_MP[grepl(&quot;Region&quot;,html_MP$X1), ]
match_Region</code></pre>
<pre><code>##                                        X1
## 1         Ashanti Region - 33 seats[edit]
## 36    Brong Ahafo Region - 21 seats[edit]
## 59        Central Region - 17 seats[edit]
## 78        Eastern Region - 26 seats[edit]
## 106 Greater Accra Region - 22 seats[edit]
## 130      Northern Region - 23 seats[edit]
## 155    Upper East Region - 12 seats[edit]
## 169     Upper West Region - 8 seats[edit]
## 179         Volta Region - 19 seats[edit]
## 200       Western Region - 19 seats[edit]
##                                        X2
## 1         Ashanti Region - 33 seats[edit]
## 36    Brong Ahafo Region - 21 seats[edit]
## 59        Central Region - 17 seats[edit]
## 78        Eastern Region - 26 seats[edit]
## 106 Greater Accra Region - 22 seats[edit]
## 130      Northern Region - 23 seats[edit]
## 155    Upper East Region - 12 seats[edit]
## 169     Upper West Region - 8 seats[edit]
## 179         Volta Region - 19 seats[edit]
## 200       Western Region - 19 seats[edit]
##                                        X3                              X4
## 1         Ashanti Region - 33 seats[edit]                            &lt;NA&gt;
## 36    Brong Ahafo Region - 21 seats[edit]                            &lt;NA&gt;
## 59        Central Region - 17 seats[edit]                            &lt;NA&gt;
## 78        Eastern Region - 26 seats[edit]                            &lt;NA&gt;
## 106 Greater Accra Region - 22 seats[edit]                            &lt;NA&gt;
## 130      Northern Region - 23 seats[edit]                            &lt;NA&gt;
## 155    Upper East Region - 12 seats[edit]                            &lt;NA&gt;
## 169     Upper West Region - 8 seats[edit]                            &lt;NA&gt;
## 179         Volta Region - 19 seats[edit]                            &lt;NA&gt;
## 200       Western Region - 19 seats[edit] Western Region - 19 seats[edit]
##                                  X5                              X6
## 1                              &lt;NA&gt;                            &lt;NA&gt;
## 36                             &lt;NA&gt;                            &lt;NA&gt;
## 59                             &lt;NA&gt;                            &lt;NA&gt;
## 78                             &lt;NA&gt;                            &lt;NA&gt;
## 106                            &lt;NA&gt;                            &lt;NA&gt;
## 130                            &lt;NA&gt;                            &lt;NA&gt;
## 155                            &lt;NA&gt;                            &lt;NA&gt;
## 169                            &lt;NA&gt;                            &lt;NA&gt;
## 179                            &lt;NA&gt;                            &lt;NA&gt;
## 200 Western Region - 19 seats[edit] Western Region - 19 seats[edit]</code></pre>
<pre class="r"><code># get the rows(in numeric format) from the dataframe above
regionNum &lt;- rownames(match_Region)
regionNum &lt;- as.numeric(regionNum)
regionNum</code></pre>
<pre><code>##  [1]   1  36  59  78 106 130 155 169 179 200</code></pre>
<div id="get-names-of-regions" class="section level3">
<h3>Get names of Regions</h3>
<p>We will want to group each constituency result by the region they are found in. So a variable <strong>regionNames</strong> is created from the <strong>html_MP</strong> and it will contain the names of the regions.</p>
<pre class="r"><code>regionNames &lt;- match_Region$X1
regionNames &lt;- gsub(&quot; \\-.+\\]&quot;, &quot;&quot;, regionNames)
regionNames &lt;- gsub(&quot;Region&quot;, &quot;&quot;, regionNames)

# remove empty rows on the right
regionNames &lt;- trimws(regionNames, &quot;right&quot;)
regionNames</code></pre>
<pre><code>##  [1] &quot;Ashanti&quot;       &quot;Brong Ahafo&quot;   &quot;Central&quot;       &quot;Eastern&quot;      
##  [5] &quot;Greater Accra&quot; &quot;Northern&quot;      &quot;Upper East&quot;    &quot;Upper West&quot;   
##  [9] &quot;Volta&quot;         &quot;Western&quot;</code></pre>
</div>
<div id="create-empty-dataframes" class="section level3">
<h3>Create empty dataframes</h3>
<p>Next we create 10 empty dataframes. We’re going to name the dataframes in the format <strong>“dframe_”+regionNames</strong>. These dataframes are to contain the constituency results for each region.</p>
<pre class="r"><code>x=1
while(x &lt;= 10){
    colsx &lt;- data.frame(
        Constituency = factor(),
        `Elected MP` = factor(),
        `Elected Party` = factor(),
        col4 = factor(),
        col5 = factor(),
        col6 = factor(),
        stringsAsFactors = TRUE
    )
    assign(paste(&quot;dframe_&quot;, regionNames[x], sep=&quot;&quot;), colsx)
    x = x+1
}</code></pre>
<p>Next we store the created dataframes into a list; <strong>allRegions</strong>. The dataframes were intentionally created with the word <strong>dframe_</strong> starting each of them. We will store all variables starting with <em>dframe_</em> as a list. A combination of <code>ls()</code> and <code>grepl()</code> is used to get the variables.</p>
<pre class="r"><code># show all variables beginning with dframe_ in the current session.
grepl(&quot;^dframe_&quot;, ls())</code></pre>
<pre><code>##  [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
## [12] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>allRegions &lt;- list(ls()[grepl(&quot;^dframe_&quot;,ls())])

# print the content of allRegions
allRegions</code></pre>
<pre><code>## [[1]]
##  [1] &quot;dframe_Ashanti&quot;       &quot;dframe_Brong Ahafo&quot;   &quot;dframe_Central&quot;      
##  [4] &quot;dframe_Eastern&quot;       &quot;dframe_Greater Accra&quot; &quot;dframe_Northern&quot;     
##  [7] &quot;dframe_Upper East&quot;    &quot;dframe_Upper West&quot;    &quot;dframe_Volta&quot;        
## [10] &quot;dframe_Western&quot;</code></pre>
</div>
</div>
<div id="extract-rows-into-dataframes" class="section level2">
<h2>Extract Rows into Dataframes</h2>
<p>Now the read deal. All we have done till now is to get the ingredients. It is time to cook. My intention is to extract all the rows between 2 regionNum values ; .i.e. 1st to 36th rows into a dataframe, 36th to 59th row into another dataframe … 179th and 200th row into a dataframe. One might understand the use of this method when one takes a look at the raw dataframe <a href="https://github.com/maryjonah/maryjonah.github.io/blob/master/ghana_elections/1992/raw_data_1992_parliamentary_results.csv"><strong>html_MP</strong></a> once again. The rows corresponding to each 2 row numbers corresponds to a parliamentary results for a region. To track the row numbers, 2 numeric vectors are created <strong>prevNum and currentNum</strong></p>
<pre class="r"><code>prevNum &lt;- numeric()
currentNum &lt;- numeric()

# collect each group of rows and assign to dataframe in list
for(i in 1:length(regionNum)){
    if(i == 1){
        prevNum = 200
        currentNum = 220
        allRegions[[1]] &lt;- html_MP[prevNum:currentNum, ]
    }
    else{
        prevNum &lt;- regionNum[i-1]
        currentNum &lt;- regionNum[i]
        
        # assign each element (dataframe) in the list a series of rows
        allRegions[[i]] &lt;- html_MP[prevNum:currentNum, ]
    }
}</code></pre>
</div>
<div id="cleaning-the-dataframe" class="section level2">
<h2>Cleaning the Dataframe</h2>
<p>Now all the rows have been assigned to their respective dataframes in the list <strong>allRegions</strong>. The function <em>clean_Regions</em> takes a dataframe and returns a tidy dataframe with 4 columns. Below are some of the actions performed on each argument passed to the function argument:</p>
<ol style="list-style-type: decimal">
<li>Select the value in the first row, first column as that is the Region Name and will be used to create a new column.</li>
<li>Tidy the selected value.</li>
<li>Remove the 4th to 6th columns.</li>
<li>Rename the columns of the dataframe.</li>
<li>Remove a few more rows, first 2 and the last row of each dataframe.</li>
<li>Assign the value from 1. to a new column <strong>Region</strong></li>
<li>Reset the rows of the columns counting from 1 to the length of the dataframe.</li>
</ol>
<pre class="r"><code>clean_Regions &lt;- function(dframeName){
    
    # extract the region&#39;s name 
    col_Region &lt;- dframeName[1,1]
    col_Region &lt;- gsub(&quot;\\-.+\\]&quot;, &quot;&quot;, col_Region)
    col_Region &lt;- gsub(&quot;Region&quot;, &quot;&quot;, col_Region)
    col_Region &lt;- trimws(col_Region, &quot;right&quot;)
    
    # delete the 4th to 6th column and update the column names
    dframeName &lt;- dframeName[, -c(4:6)]
    colnames(dframeName) &lt;- c(&quot;Constituency&quot;, &quot;Elected MP&quot;, &quot;Elected Party&quot;)
    
    # delete the 1st, 2nd and final rows
    # create a new column Region
    dframeName &lt;- dframeName[-c(1:2, nrow(dframeName)), ]
    dframeName$Region &lt;- col_Region
    
    rownames(dframeName) &lt;- seq(length.out=nrow(dframeName))
    
    return(dframeName)
    
}</code></pre>
<div id="applying-the-function" class="section level3">
<h3>Applying the function</h3>
<p>There are 10 dataframes in the list <em>allRegions</em>. We can apply the function <em>clean_Regions</em> on each dataframe in the list. Using the for loop we clean each dataframe and assign it back to the list</p>
<pre class="r"><code>for(i in 1:length(allRegions)){
    allRegions[[i]] &lt;- clean_Regions(allRegions[[i]])
}</code></pre>
</div>
<div id="bind-rows" class="section level3">
<h3>Bind Rows</h3>
<p>To get all 10 cleaned dataframes into a single dataframe, we use the <code>bind_rows()</code> from the <strong>tidyverse</strong> package</p>
<pre class="r"><code>allRegions &lt;- bind_rows(allRegions)
head(allRegions)</code></pre>
<pre><code>##     Constituency               Elected MP Elected Party  Region
## 1    Ahanta West             Francis Fynn           NDC Western
## 2 Amenfi Central       Dr. John Frank Abu           NDC Western
## 3    Amenfi East             George Buadi           NDC Western
## 4    Amenfi West     Joseph King Amankpah           NDC Western
## 5   Aowin-Suaman     John Kwekucher Ackah           NDC Western
## 6            Bia Christian Kwabena Asante           NDC Western</code></pre>
</div>
<div id="sanity-check" class="section level3">
<h3>Sanity Check</h3>
<p>We need to perform a sanity check on the data.</p>
<pre class="r"><code>nrow(allRegions)</code></pre>
<pre><code>## [1] 199</code></pre>
<p>The number of rows should have been 200 but it is currently 200. Checks show that the final row in the <strong>Western Region</strong> was removed hence it will be added and then we confirm the number of rows.</p>
<pre class="r"><code>allRegions &lt;- rbind(allRegions, c(&quot;Tarkwa -Nsuaem&quot;,&quot;Mathew Kojo Kum&quot;,&quot;NDC&quot;,&quot;Western&quot;))
dim(allRegions)</code></pre>
<pre><code>## [1] 200   4</code></pre>
</div>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>It was a very long post, I know but I am glad you were able to come this far. My main take-aways are</p>
<ul>
<li><strong>rvest</strong> is an amazing package. The <em>html_table()</em> comes in handy when one wants the data in a tabular format, remember to pass <em>TRUE</em> to the <em>fill</em> argument.</li>
<li>If a base R function can do the work, go ahead: <em>gsub</em> and <em>grepl</em> came to the rescue when I needed them.</li>
<li>Use loops, use loops, use loops</li>
<li>If you need to perform a set of actions more than once,put them into a function.</li>
</ul>
<p>The final data is available <a href="https://github.com/maryjonah/maryjonah.github.io/blob/master/ghana_elections/1992/parliamentary_results_1992.csv">here</a>.I hope to see you in Episode 3.</p>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://maryjonah.github.io/2019/01/episode-3-the-1996-presidential-elections-part-1/" data-tooltip="Episode 3:The 1996 Presidential Elections-Part 1">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://maryjonah.github.io/2018/08/episode-1-the-1992-presidential-results/" data-tooltip="Episode 1: The 1992 Presidential Results">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Mary Jonah. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://maryjonah.github.io/2019/01/episode-3-the-1996-presidential-elections-part-1/" data-tooltip="Episode 3:The 1996 Presidential Elections-Part 1">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://maryjonah.github.io/2018/08/episode-1-the-1992-presidential-results/" data-tooltip="Episode 1: The 1992 Presidential Results">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmaryjonah.github.io%2F2018%2F08%2Fepisode-2-the-1992-parliamentary-results%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fmaryjonah.github.io%2F2018%2F08%2Fepisode-2-the-1992-parliamentary-results%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fmaryjonah.github.io%2F2018%2F08%2Fepisode-2-the-1992-parliamentary-results%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://maryjonah.github.io/img/maryjonah.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Mary Jonah</h4>
    
      <div id="about-card-bio"><em>info@maryjonah.me</em></div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Web Developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Accra, Ghana
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2019/03/episode-4-the-parliamentary-function/">
                <h3 class="media-heading">Episode 4: The Parliamentary Function</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">So far, I have released 3 episodes of the election blog series. As a reminder, the series is to get data on Ghanaian Presidential &amp; Pariamentary results since 1992 till the latest: 2016 elections.
This was supposed to Episode 4: The 1996 Parliamentary Results. But guess what? Your girl got some better news. This episode will be the end of the Parliamentary section of the series.Your girl has got all the Parliamentary results from 1996 to 2016 and by the end of this post, you will as well, I will show you how.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2019/03/episode-4-the-parliamentary-function/">
                <h3 class="media-heading">Episode 4: The Parliamentary Function</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">So far, I have released 3 episodes of the election blog series. As a reminder, the series is to get data on Ghanaian Presidential &amp; Pariamentary results since 1992 till the latest: 2016 elections.
This was supposed to Episode 4: The 1996 Parliamentary Results. But guess what? Your girl got some better news. This episode will be the end of the Parliamentary section of the series.Your girl has got all the Parliamentary results from 1996 to 2016 and by the end of this post, you will as well, I will show you how.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2019/02/episode-3-part-2-of-the-1996-presidential-elections/">
                <h3 class="media-heading">Episode 3: Part 2 of the 1996 Presidential Elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">IntroductionAt the end of Part 1 of Episode 3 on my series on Ghanaian elections, I performed a quick sum of the percentage values obtained by the political parties grouping them by region and some had 101%. This figure was exclusive of the percentage of rejected ballots.
Sum of Percentage Values Per Region for Parties
This did not sit well with me, so I decided to enquire from people whom I believe know much about elections than myself.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2019/01/how-i-got-financial-aid-from-coursera-for-fundamentals-of-visualization-with-tableau/">
                <h3 class="media-heading">How I got Financial Aid from Coursera for &#34;Fundamentals of Visualization with Tableau&#34;</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">IntroductionI am really humbled by the words of encouragement I have received so far. It is these actions that keep me going during tough times. Sometimes I think I have it all figured out, at other times my efforts look like a waste of time.
It is in this light that I want to share an amazing feat. I completed the Fundamentals of Visualization with Tableau offered on Coursera by University of Carlifonia kind courtesy of a Financial Aid I received from Coursera.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2019/01/episode-3-the-1996-presidential-elections-part-1/">
                <h3 class="media-heading">Episode 3:The 1996 Presidential Elections-Part 1</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Happy New Year,I wish you all the best in 2019. Last year, I started a blog series on collecting Ghana’s election results from 1992 to 2016. In episode Episode 1 and Episode 2, I showed the process of getting the presidential and parliamentary elections for 1992.The datasets are available here: 1992 presidential elections and 1992 parliamentary elections.
In this episode I will collect data on the 1996 elections. This data is available on the Electoral Commission of Ghana’s website.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2018/08/episode-2-the-1992-parliamentary-results/">
                <h3 class="media-heading">Episode 2:The 1992 Parliamentary Results</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Welcome to the second episode on my journey to get data on Ghana’s elections since 1992.In the first post, we cleaned the 1992 presidential elections,click here for the data. Today we are going to walk through the process of cleaning the 1992 parliamentary results.
General elections are held every 4 years in Ghana, during the elections there are 2 positions voters are to fill:
Presidential: The person with the highest vote becomes the president of Ghana.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2018/08/episode-1-the-1992-presidential-results/">
                <h3 class="media-heading">Episode 1: The 1992 Presidential Results</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Welcome to the first post of my data analysis: 24 years and 8 elections. Ghana has been described as one of the most democratic countries on th continent of Africa. The country has successfully organised 10 elections since its independence. 8 of which were consecutively held from 1992 to 2016.
This post will be about the 1992 elections. This was the 3rd election ever held in the country.Data about the presidential elections were stored on the Electoral Commission’s website and is accessible here.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2018/07/my-first-blog-series-24-years-7-elections/">
                <h3 class="media-heading">My first blog series - 24 years 7 elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hello everyone, after the very long break I am back. It wasn’t intentional: work and personal stuff but I am excited to be back. And as the popular phrase says “I am back with a baaaaang!!”. Image Source
I am excited to announce that I will be starting a series of blog posts from Wednesday, the 1st of August 2018 about Ghanaian elections. First, will show you how to clean them and then analyze election trends since 1992.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2017/11/asempa-to-adwuma-the-2017-and-2018-ghanaian-budgets/">
                <h3 class="media-heading">Asempa to Adwuma (The 2017 and 2018 Ghanaian Budgets)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This post will be on text mining. I will be using the 2017 and 2018 Budget statements of Ghana for this tutorial.This post will not have in-depth explanation of the results of the analysis but rather show how one can perform analysis on documents all around us. I have provided the links to the documents in the next 2 paragraphs hence one can read and compare how they fare with the results obtained in the post.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://maryjonah.github.io/2017/10/decoding-busiest-airport-numbers/">
                <h3 class="media-heading">Decoding Busiest Airport Numbers</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Since the invention of the first airplane by Wilbur and Orville Wright in December 17, 1903, it has become one of the most important modes of transportation especially for long distances and the airports have facilitated this. Airports have metamorphosized from becoming “houses” for airplanes to include shopping malls, offices and showers.
Different institutions have come up with rankings of airports, such as that of SKYTRAX WORLD AIRPORT AWARDS obtained by using customer satisfaction surveys, AirHelp Score’s Airport Worldwide Rankings which uses a combination of On-Time Performance, Quality of Service and Passenger sentiment.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         11 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://maryjonah.github.io/images/cover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://maryjonah.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/maryjonah.github.io\/2018\/08\/episode-2-the-1992-parliamentary-results\/';
          
            this.page.identifier = '\/2018\/08\/episode-2-the-1992-parliamentary-results\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'maryjonah';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

